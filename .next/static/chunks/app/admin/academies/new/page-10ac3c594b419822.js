(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[342],{2602:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>m});var r=s(5155),t=s(9339);let l=(0,t.createServerReference)("6007f95e730dcbcf30d7a183a5b627bcf8e81ae513",t.callServer,void 0,t.findSourceMapURL,"createAcademy");var d=s(6887),o=s(6378),i=s(8500),n=s.n(i),c=s(2115);function m(){let[e,a]=(0,c.useState)(!0),[s,t]=(0,c.useState)(null);async function i(e){t(null);let a=await l(null,e);a?.error&&t(a.error)}return(0,r.jsx)("main",{className:"flex-1 p-8",children:(0,r.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Nova Academia"}),(0,r.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-8",children:(0,r.jsxs)("form",{action:i,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsx)(d.Z,{label:"Nome da Academia",name:"name",placeholder:"Ex: Ironberg CT",required:!0}),(0,r.jsx)(d.Z,{label:"Slug (URL)",name:"slug",placeholder:"ex: ironberg-ct",required:!0,pattern:"^[a-z0-9\\-]+$",title:"Apenas letras min\xfasculas, n\xfameros e h\xedfens."})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4 border-b pb-2",children:[(0,r.jsx)("h2",{className:"text-lg font-bold text-slate-800",children:"Acesso do Respons\xe1vel"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"checkbox",id:"create_admin",className:"h-4 w-4 rounded border-gray-300 text-slate-900 focus:ring-slate-900",checked:e,onChange:e=>a(e.target.checked)}),(0,r.jsx)("label",{htmlFor:"create_admin",className:"text-sm font-medium text-slate-700 cursor-pointer",children:"Criar usu\xe1rio administrador?"})]})]}),e?(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-in slide-in-from-top-4 fade-in duration-300",children:[(0,r.jsx)(d.Z,{label:"Nome do Respons\xe1vel",name:"owner_name",placeholder:"Nome Completo",required:!0}),(0,r.jsx)("div",{className:"hidden md:block"})," ",(0,r.jsx)(d.Z,{label:"E-mail de Login",name:"owner_email",type:"email",placeholder:"admin@academia.com",required:!0}),(0,r.jsx)(d.Z,{label:"Senha Inicial",name:"owner_password",type:"text",placeholder:"M\xednimo 6 caracteres",minLength:6,required:!0})]}):(0,r.jsx)("p",{className:"text-sm text-slate-500 bg-gray-50 p-4 rounded-md border border-gray-100",children:"Nenhum usu\xe1rio ser\xe1 criado neste momento. Voc\xea poder\xe1 adicionar administradores manualmente depois ou gerenciar esta academia como Super Admin."})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsx)(d.Z,{label:"Cor Prim\xe1ria",name:"primary_color",type:"color",defaultValue:"#000000",className:"h-12 p-1 cursor-pointer"}),(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("label",{htmlFor:"logo",className:"block text-sm font-medium text-slate-700 mb-1",children:"Logo da Academia"}),(0,r.jsx)("input",{id:"logo",name:"logo",type:"file",accept:"image/*",className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-slate-100 file:text-slate-700 hover:file:bg-slate-200"}),(0,r.jsx)("p",{className:"mt-1 text-xs text-slate-400",children:"Recomendado: PNG ou JPG quadrado (500x500px)"})]})]}),(0,r.jsxs)("div",{className:"pt-4 border-t border-slate-100",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-slate-900 mb-4",children:"Localiza\xe7\xe3o & Endere\xe7o"}),(0,r.jsx)(o.X,{})]}),s&&(0,r.jsx)("div",{className:"bg-red-50 text-red-600 p-4 rounded-md text-sm border border-red-100",children:s}),(0,r.jsxs)("div",{className:"pt-4 flex justify-end gap-3",children:[(0,r.jsx)(n(),{href:"/admin/academies",className:"px-4 py-2 border border-slate-300 rounded-md text-slate-700 hover:bg-slate-50 text-sm font-medium",children:"Cancelar"}),(0,r.jsx)("button",{type:"submit",className:"px-4 py-2 bg-slate-900 text-white rounded-md hover:bg-slate-800 text-sm font-medium",children:"Criar Academia"})]})]})})]})})}},3243:(e,a,s)=>{Promise.resolve().then(s.bind(s,2602))},6378:(e,a,s)=>{"use strict";s.d(a,{X:()=>d});var r=s(5155),t=s(2115),l=s(6887);function d(){let[e,a]=(0,t.useState)(!1),[s,d]=(0,t.useState)({street:"",neighborhood:"",city:"",state:""}),[o,i]=(0,t.useState)(""),[n,c]=(0,t.useState)(null),m=(0,t.useRef)(null),u=async e=>{let a=e.target.value.replace(/\D/g,"");if(a.length>5&&(a=a.replace(/^(\d{5})(\d)/,"$1-$2")),i(a),9===a.length){let e=a.replace("-","");await x(e)}},x=async e=>{a(!0);try{let a=await fetch(`https://brasilapi.com.br/api/cep/v2/${e}`);if(!a.ok)throw Error("CEP n\xe3o encontrado");let s=await a.json(),r={street:s.street,neighborhood:s.neighborhood,city:s.city,state:s.state};d(r),s.location?.coordinates&&c({lat:s.location.coordinates.latitude,lng:s.location.coordinates.longitude}),setTimeout(()=>{m.current?.focus()},100)}catch(e){console.error("Erro ao buscar CEP:",e)}finally{a(!1)}},h=(e,a)=>{d(s=>({...s,[e]:a}))};return(0,r.jsxs)("div",{className:"space-y-4 border-t pt-4 mt-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-slate-900",children:"Endere\xe7o"}),(0,r.jsx)("input",{type:"hidden",name:"latitude",value:n?.lat||""}),(0,r.jsx)("input",{type:"hidden",name:"longitude",value:n?.lng||""}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"md:col-span-1 relative",children:[(0,r.jsx)(l.Z,{label:"CEP",name:"zip_code",placeholder:"00000-000",maxLength:9,value:o,onChange:u}),e&&(0,r.jsx)("span",{className:"absolute right-3 top-9 text-xs text-indigo-600 font-bold",children:"Busca..."})]}),(0,r.jsx)("div",{className:"md:col-span-1",children:(0,r.jsx)(l.Z,{label:"Estado (UF)",name:"state",maxLength:2,value:s.state,onChange:e=>h("state",e.target.value)})}),(0,r.jsx)("div",{className:"md:col-span-2",children:(0,r.jsx)(l.Z,{label:"Cidade",name:"city",value:s.city,onChange:e=>h("city",e.target.value)})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,r.jsx)("div",{className:"md:col-span-3",children:(0,r.jsx)(l.Z,{label:"Logradouro (Rua, Av...)",name:"street",value:s.street,onChange:e=>h("street",e.target.value)})}),(0,r.jsx)("div",{className:"md:col-span-1",children:(0,r.jsx)(l.Z,{ref:m,label:"N\xfamero",name:"number",placeholder:"123"})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)(l.Z,{label:"Bairro",name:"neighborhood",value:s.neighborhood,onChange:e=>h("neighborhood",e.target.value)}),(0,r.jsx)(l.Z,{label:"Complemento",name:"complement",placeholder:"Ex: Apto 101"})]})]})}},6887:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});var r=s(5155);let t=(0,s(2115).forwardRef)(({label:e,name:a,error:s,className:t="",...l},d)=>(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("label",{htmlFor:a,className:"block text-sm font-medium text-slate-700 mb-1",children:e}),(0,r.jsx)("input",{id:a,name:a,ref:d,className:`
            block w-full rounded-md border-slate-300 shadow-sm 
            focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm
            border p-2
            ${s?"border-red-500 focus:border-red-500 focus:ring-red-500":""}
            ${t}
          `,...l}),s&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:s})]}));t.displayName="FormInput"},9339:(e,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r={callServer:function(){return l.callServer},createServerReference:function(){return o.createServerReference},findSourceMapURL:function(){return d.findSourceMapURL}};for(var t in r)Object.defineProperty(a,t,{enumerable:!0,get:r[t]});let l=s(7304),d=s(4060),o=s(7197)}},e=>{e.O(0,[500,441,928,358],()=>e(e.s=3243)),_N_E=e.O()}]);